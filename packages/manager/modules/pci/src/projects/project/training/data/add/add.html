<div class="pci-projects-project-training-data-add">
    <h2>{{:: 'pci_projects_project_training_data_list_add' | translate }}</h2>

    <oui-message type="error" data-ng-if="$ctrl.error">
        <span data-ng-bind="$ctrl.error"></span>
    </oui-message>

    <oui-stepper data-on-finish="$ctrl.onStepperFinish()">
        <oui-step-form
            data-header="{{:: 'pci_projects_project_training_data_add_select_region' | translate }}"
            data-on-submit="$ctrl.onRegionSubmit()"
            data-editable="$ctrl.allContainersLoaded && !$ctrl.isSubmit"
            data-loading="!$ctrl.allContainersLoaded"
        >
            <pci-project-regions-list
                data-regions="$ctrl.regions"
                data-selected-region="$ctrl.data.region"
            >
            </pci-project-regions-list>
        </oui-step-form>
        <oui-step-form
            data-header="{{:: 'pci_projects_project_training_data_add_select_obj_container' | translate }}"
            data-editable="$ctrl.allContainersLoaded && !$ctrl.isSubmit"
            data-loading="!$ctrl.allContainersLoaded"
        >
            <oui-field
                data-size="xl"
                data-help-text="{{:: 'pci_projects_project_training_data_add_select_obj_container_tips' | translate }}"
            >
                <oui-select
                    id="container-select"
                    name="container-select"
                    data-model="$ctrl.data.container"
                    data-items="$ctrl.filteredContainers"
                    data-match="description"
                    data-searchable
                    data-required
                >
                </oui-select>
            </oui-field>
        </oui-step-form>
        <oui-step-form
            data-header="{{:: 'pci_projects_project_training_data_add_select_user' | translate }}"
            data-editable="$ctrl.allUsersLoaded && !$ctrl.isSubmit"
            data-loading="!$ctrl.allUsersLoaded"
        >
            <oui-field
                data-size="xl"
                data-help-text="{{:: 'pci_projects_project_training_data_add_select_user_tips' | translate }}"
                data-on-submit="$ctrl.onUserSubmit()"
            >
                <oui-select
                    id="user-select"
                    name="user-select"
                    data-model="$ctrl.data.user"
                    data-items="$ctrl.users"
                    data-match="description"
                    data-searchable
                    data-required
                >
                </oui-select>
            </oui-field>
        </oui-step-form>
        <oui-step-form
            data-header="{{:: 'pci_projects_project_training_data_add_select_name' | translate }}"
            data-editable="!$ctrl.isSubmit"
            data-loading="$ctrl.isSubmit"
        >
            <oui-field
                data-size="xl"
                data-help-text="{{:: 'pci_projects_project_training_data_add_select_name_tips' | translate  }}"
            >
                <input
                    class="oui-input"
                    type="text"
                    id="name"
                    name="name"
                    data-ng-model="$ctrl.data.name"
                    data-required
                />
            </oui-field>

            <oui-field
                data-size="xl"
                data-label="{{:: 'pci_projects_project_training_data_add_sync_tips' | translate  }}"
            >
                <oui-switch data-model="$ctrl.data.sync" name="sync">
                </oui-switch>
            </oui-field>
            <oui-tile-definition
                data-term="{{:: 'pci_projects_project_training_data_validation_equivalent_command' | translate  }}"
                data-ng-if="$ctrl.data.container"
            >
                <oui-tile-description>
                    <pre>
{{:: 'pci_projects_project_training_parter_cli_name' | translate  }} {{ $ctrl.cliCommand() }}
                    </pre>
                </oui-tile-description>
            </oui-tile-definition>
        </oui-step-form>
    </oui-stepper>
</div>
